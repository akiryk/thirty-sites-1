"use strict";({pixiApp:null,displacementFilter:null,pixiImage:"images/skater-1024.jpg",displacementImage:"images/clouds-1024.jpg",init:function(){this.createPixiApp(),this.loadPixiImage()},createPixiApp:function(){this.pixiApp=new PIXI.Application({width:1200,height:1200,backgroundColor:0,transparent:!1,antialias:!1}),document.getElementById("display").appendChild(this.pixiApp.view)},loadPixiImage:function(){PIXI.loader.add("mainPic",this.pixiImage).add("clouds",this.displacementImage).load(this.setup.bind(this))},setup:function(e,i){document.body.classList.add("remove-loader");var t=this.pixiApp,n=this.pixiApp.stage,a=t.renderer.screen.width/2,o=t.renderer.screen.height/2,r=new PIXI.Sprite(i.mainPic.texture),l=new PIXI.Sprite(i.clouds.texture);r.anchor.set(.5),l.anchor.set(.5),r.position.set(a,o),l.position.set(a,o),this.addDisplacementFilter(l),n.addChild(r),n.addChild(l),this.startPixiLoop(l),this.initScrollMagic()},startPixiLoop:function(e){this.pixiApp.ticker.add(function(i){e.rotation-=.002})},addDisplacementFilter:function(e){this.displacementFilter=new PIXI.filters.DisplacementFilter(e),this.displacementFilter.scale.x=250,this.displacementFilter.scale.y=140,this.pixiApp.stage.filters=[this.displacementFilter]},initScrollMagic:function(){this.makeController(),this.makeHeaderScenes(),this.makeParagraphScenes(),this.makeDisplacementAnimationScene()},makeController:function(){this.controller=new ScrollMagic.Controller},makeHeaderScenes:function(){var e=document.getElementById("introHead"),i=document.querySelector(".headline--top"),t=document.querySelector(".headline--bottom"),n=.85*window.innerHeight,a=this.controller;new ScrollMagic.Scene({duration:n}).setTween(e,1,{rotation:20}).addTo(a),new ScrollMagic.Scene({duration:n}).setTween(i,1,{x:200}).addTo(a),new ScrollMagic.Scene({duration:n}).setTween(t,1,{x:-200}).addTo(a)},makeParagraphScenes:function(){var e=Array.from(document.querySelectorAll(".para")),i=this.controller;e.forEach(function(e){var t=TweenLite.to(e,1,{transform:"matrix(.98, -.075, .075, .98, 0, 0)"});new ScrollMagic.Scene({duration:"150%",triggerHook:"onEnter",triggerElement:e}).setTween(t).addTo(i)})},makeDisplacementAnimationScene:function(){var e=this.displacementFilter.scale,i=TweenMax.to(e,.85,{x:0,y:0}),t=this.controller,n=document.getElementById("introHeadClone");new ScrollMagic.Scene({offset:300,duration:"100%"}).setTween(i).addTo(t),new ScrollMagic.Scene({triggerElement:n,triggerHook:"onEnter",duration:"100%"}).setTween(TweenLite.to(e,1,{x:250,y:140})).addTo(t)}}).init();
//# sourceMappingURL=bundle.js.map
